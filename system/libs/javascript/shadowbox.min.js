var Shadowbox={params:{opacity:0.7,title:"",ext:{img:/^.*\.(img|png|jpg|gif|bmp)/i,iframe:/^.*(\.(php|php5|php4|php3|asp|xml|xhtml|html|htm|aspx)|\/)/i},player:"",height:"auto",width:"auto",content:""},init:function(){$("body").append('<div id="shadowbox_overlayer" onclick="Shadowbox.close();" class="ui-widget-shadow" style="top:-30px;z-index:998;left:-30px;margin: -40px;position:fixed;display:none;background: #101010;"></div><div style="display:none;" id="shadowbox"> <div style="position:absolute;z-index:999;" id="shadowbox_con"><div style="font-size:15pt;color:#ffffff;background-color:transparent;" id="shadowbox_title"></div><div style="border:1px solid #7F7F7F;padding:3px;background-color:#101010;height:99%;width:99%;text-align:center;" id="shadowbox_loading"></div><div id="shadowbox_body" style="display:none;"><div style="display:block;border:1px solid #7F7F7F;color:#ffffff;background-color:#101010;" id="shadowbox_content"></div><div id="shadowbox_nav" style="text-align:right;color:white;"><a style="font-size:15pt;float:right;display:block;padding:2px;color:white;width:100px;font-wieght:bold;" onclick="Shadowbox.close();" href="javascript: void(0);">x</a></div></div><div style="display:none;width:auto;height:auto;" id="shadowbox_tmp"></div></div></div>');if(navigator.appName=="Microsoft Internet Explorer"){$("#shadowbox_con").css({position:"absolute",left:"-200px"});$("#shadowbox_overlayer").css({position:"absolute",left:"-300px"})}$("#shadowbox_overlayer").fadeTo("fast",Shadowbox.params.opacity);$("#shadowbox_overlayer").css("display","none");Shadowbox.cssTo("400","100")},animateTo:function(l,g){var m=$(window).width();var h=$(window).height();$("#shadowbox_overlayer").css({width:m+1000,height:h+1000});var k=(h-g)/2;var j=(m-l)/2;if(navigator.appName!="Microsoft Internet Explorer"){$("#shadowbox_con").css({position:"fixed"})}if(l>m){var l=m-200}if(g>h){var g=h-150}setTimeout(function(){$("#shadowbox_con").stop().animate({top:k+"px",left:j+"px",height:g+"px",width:l+"px"},900)},300)},cssTo:function(l,g){var m=$(window).width();var h=$(window).height();$("#shadowbox_overlayer").css({width:m+1000,height:h+1000});var k=(h-g)/2;var j=(m-l)/2;if(l>m){var l=m-200}if(g>h){var g=h-150}$("#shadowbox_con").css({top:k+"px",left:j+"px",height:g+"px",width:l+"px"},700)},open:function(params){Shadowbox.params.height="auto";Shadowbox.params.width="auto";Shadowbox.params.title="";Shadowbox.cssTo(400,100);if(params.rel!=null){var addparams=Shadowbox.getparams(params.rel);params=$.extend(params,addparams)}Shadowbox.params=$.extend(Shadowbox.params,params);Shadowbox.params.content=params.content;if(params.player==null){var player;player=Shadowbox.getplayer(params.content)}else{player=params.player}Shadowbox.params.player=player;$("#shadowbox_content").html("");$("#shadowbox_title").html(""+Shadowbox.params.title+"");$("#shadowbox_content").css("display","none");$("#shadowbox_nav").css("display","none");$("#shadowbox_overlayer").fadeIn("slow");setTimeout(function(){Shadowbox.showload();eval("Shadowbox."+player+"_player();")},300)},close:function(){$("#shadowbox_content").css({height:"",width:""});$("#shadowbox_overlayer").fadeOut("slow");$("#shadowbox").css("display","none")},getplayer:function(d){var c=0;for(i in Shadowbox.params.ext){if(d.match(Shadowbox.params.ext[i])){c++;return i}}location.href=d},showload:function(){$("#shadowbox_loading").html(' <p style="color:#ffffff;" onclick="Shadowbox.close();">Loading... </a>');$("#shadowbox_loading").css("display","block");$("#shadowbox").fadeIn("slow")},getparams:function(f){var g=new Array();var h=f.split(";");for(i in h){if(h[i].match(/[a-zA-Z0-9]+=[a-zA-Z0-9]+/i)){var e=h[i].split("=");g[e[0]]=e[1]}}return g},img_player:function(){var b=new Image();b.onload=function(){if(Shadowbox.params.height=="auto"||Shadowbox.params.width=="auto"){var k=b.height;var h=b.width}else{var k=Shadowbox.params.height;var h=Shadowbox.params.width}var a=$(window).height();var g=a-200;var j=h/k;if(k>g){var k=g}else{var k=k}var h=k*j;$("#shadowbox_content").html('<img src="'+Shadowbox.params.content+'" alt="'+Shadowbox.params.content+'" height="'+k+'" width="'+h+'" />');Shadowbox.animateTo(h,k+50);setTimeout(function(){$("#shadowbox_loading").css("display","none");$("#shadowbox_content").css("display","block");$("#shadowbox_body").css("display","block");$("#shadowbox_nav").slideDown("fast")},1200);b.onload="";b=null};b.src=Shadowbox.params.content},iframe_player:function(){var j=$(window).width();var f=$(window).height();var g=f;var k=j;if(Shadowbox.params.height=="auto"||Shadowbox.params.width=="auto"){g=g-200;var h=g;k=k-100}else{g=parseInt(Shadowbox.params.height);k=parseInt(Shadowbox.params.width);if(k>j){var k=j-200}if(g>f){var g=f-150}g=g+50;var h=g;k=k+2}$("#shadowbox_content").html('<iframe style="background-color:white;" frameborder="0" id="sframe" src="'+Shadowbox.params.content+'" height="'+h+'" width="'+k+'"></iframe>');$("#sframe").load(function(){Shadowbox.animateTo(k,g);setTimeout(function(){$("#shadowbox_loading").css("display","none");$("#shadowbox_content").css("display","block");$("#shadowbox_body").css("display","block");$("#shadowbox_nav").slideDown("fast")},1200)})},html_player:function(){var d=300;var c=400;if(Shadowbox.params.height=="auto"||Shadowbox.params.width=="auto"){Shadowbox.animateTo(c,d)}else{d=parseInt(Shadowbox.params.height);c=parseInt(Shadowbox.params.width);Shadowbox.animateTo(c,d)}$("#shadowbox_content").html(Shadowbox.params.content);setTimeout(function(){$("#shadowbox_loading").css("display","none");$("#shadowbox_content").css("display","block");$("#shadowbox_body").css("display","block");$("#shadowbox_nav").slideDown("fast");$("#shadowbox_content").css({height:d,width:c})},1200)}};