var Shadowbox = {    params: {        opacity: 0.7,        title: "",        ext: {            img: /^.*\.(img|png|jpg|gif|bmp)/i,            iframe: /^.*(\.(php|php5|php4|php3|asp|xml|xhtml|html|htm|aspx)|\/)/i        },        player: "",        height: "auto",        width: "auto",        content: ""    },    init: function () {        $("body").append('<div id="shadowbox_overlayer" onclick="Shadowbox.close();" class="ui-widget-shadow" style="top:-30px;z-index:998;left:-30px;margin: -40px;position:fixed;display:none;background: #101010;"></div><div style="display:none;" id="shadowbox"> <div style="position:absolute;z-index:999;" id="shadowbox_con"><div style="font-size:15pt;color:#ffffff;background-color:transparent;" id="shadowbox_title"></div><div style="border:1px solid #7F7F7F;padding:3px;background-color:#101010;height:99%;width:99%;text-align:center;" id="shadowbox_loading"></div><div id="shadowbox_body" style="display:none;"><div style="display:block;border:1px solid #7F7F7F;color:#ffffff;background-color:#101010;" id="shadowbox_content"></div><div id="shadowbox_nav" style="text-align:right;color:white;"><a style="font-size:15pt;float:right;display:block;padding:2px;color:white;width:100px;font-wieght:bold;" onclick="Shadowbox.close();" href="javascript: void(0);">x</a></div></div><div style="display:none;width:auto;height:auto;" id="shadowbox_tmp"></div></div></div>');        if (navigator.appName == "Microsoft Internet Explorer") {            $("#shadowbox_con").css({                position: "absolute",                left: "-200px"            });            $("#shadowbox_overlayer").css({                position: "absolute",                left: "-300px"            })        }        $("#shadowbox_overlayer").fadeTo("fast", Shadowbox.params.opacity);        $("#shadowbox_overlayer").css('display', 'none');        Shadowbox.cssTo("400", "100")    },    animateTo: function (d, b) {        var c = $(window).width();        var a = $(window).height();        $("#shadowbox_overlayer").css({            width: c + 1000,            height: a + 1000        });        var e = (a - b) / 2;        var f = (c - d) / 2;        if (navigator.appName != "Microsoft Internet Explorer") {            $("#shadowbox_con").css({                position: "fixed"            })        }        if (d > c) {            var d = c - 200        }        if (b > a) {            var b = a - 150        }        setTimeout(function () {            $("#shadowbox_con").stop().animate({                top: e + "px",                left: f + "px",                height: b + "px",                width: d + "px"            }, 900)        }, 300)    },    cssTo: function (d, b) {        var c = $(window).width();        var a = $(window).height();        $("#shadowbox_overlayer").css({            width: c + 1000,            height: a + 1000        });        var e = (a - b) / 2;        var f = (c - d) / 2;        if (d > c) {            var d = c - 200        }        if (b > a) {            var b = a - 150        }        $("#shadowbox_con").css({            top: e + "px",            left: f + "px",            height: b + "px",            width: d + "px"        }, 700)    },    open: function (params) {        Shadowbox.params.height = "auto";        Shadowbox.params.width = "auto";        Shadowbox.params.title = "";        Shadowbox.cssTo(400, 100);        if (params.rel != null) {            var addparams = Shadowbox.getparams(params.rel);            params = $.extend(params, addparams)        }        Shadowbox.params = $.extend(Shadowbox.params, params);        Shadowbox.params.content = params.content;        if (params.player == null) {            var player;            player = Shadowbox.getplayer(params.content)        } else {            player = params.player        }        Shadowbox.params.player = player;        $("#shadowbox_content").html("");        $("#shadowbox_title").html("" + Shadowbox.params.title + "");        $("#shadowbox_content").css("display", "none");        $("#shadowbox_nav").css("display", "none");        $("#shadowbox_overlayer").fadeIn("slow");        setTimeout(function () {            Shadowbox.showload();            eval("Shadowbox." + player + "_player();")        }, 300)    },    close: function () {        $("#shadowbox_content").css({            height: "",            width: ""        });        $("#shadowbox_overlayer").fadeOut("slow");        $("#shadowbox").css("display", "none")    },    getplayer: function (a) {        var b = 0;        for (i in Shadowbox.params.ext) {            if (a.match(Shadowbox.params.ext[i])) {                b++;                return i            }        }        location.href = a    },    showload: function () {        $("#shadowbox_loading").html(' <p style="color:#ffffff;" onclick="Shadowbox.close();">Loading... </a>');        $("#shadowbox_loading").css("display", "block");        $("#shadowbox").fadeIn("slow")    },    getparams: function (a) {        var d = new Array();        var c = a.split(";");        for (i in c) {            if (c[i].match(/[a-zA-Z0-9]+=[a-zA-Z0-9]+/i)) {                var b = c[i].split("=");                d[b[0]] = b[1]            }        }        return d    },    img_player: function () {        var a = new Image();        a.onload = function () {            if (Shadowbox.params.height == "auto" || Shadowbox.params.width == "auto") {                var c = a.height;                var e = a.width            } else {                var c = Shadowbox.params.height;                var e = Shadowbox.params.width            }            var b = $(window).height();            var f = b - 200;            var d = e / c;            if (c > f) {                var c = f            } else {                var c = c            }            var e = c * d;            $("#shadowbox_content").html('<img src="' + Shadowbox.params.content + '" alt="' + Shadowbox.params.content + '" height="' + c + '" width="' + e + '" />');            Shadowbox.animateTo(e, c + 50);            setTimeout(function () {                $("#shadowbox_loading").css("display", "none");                $("#shadowbox_content").css("display", "block");                $("#shadowbox_body").css("display", "block");                $("#shadowbox_nav").slideDown("fast")            }, 1200);            a.onload = "";            a = null        };        a.src = Shadowbox.params.content    },    iframe_player: function () {        var d = $(window).width();        var b = $(window).height();        var a = b;        var c = d;        if (Shadowbox.params.height == "auto" || Shadowbox.params.width == "auto") {            a = a - 200;            var e = a;            c = c - 100        } else {            a = parseInt(Shadowbox.params.height);            c = parseInt(Shadowbox.params.width);            if (c > d) {                var c = d - 200            }            if (a > b) {                var a = b - 150            }            a = a + 50;            var e = a;            c = c + 2        }        $("#shadowbox_content").html('<iframe style="background-color:white;" frameborder="0" id="sframe" src="' + Shadowbox.params.content + '" height="' + e + '" width="' + c + '"></iframe>');        $("#sframe").load(function () {            Shadowbox.animateTo(c, a);            setTimeout(function () {                $("#shadowbox_loading").css("display", "none");                $("#shadowbox_content").css("display", "block");                $("#shadowbox_body").css("display", "block");                $("#shadowbox_nav").slideDown("fast")            }, 1200)        })    },    html_player: function () {        var a = 300;        var b = 400;        if (Shadowbox.params.height == "auto" || Shadowbox.params.width == "auto") {            Shadowbox.animateTo(b, a)        } else {            a = parseInt(Shadowbox.params.height);            b = parseInt(Shadowbox.params.width);            Shadowbox.animateTo(b, a)        }        $("#shadowbox_content").html(Shadowbox.params.content);        setTimeout(function () {            $("#shadowbox_loading").css("display", "none");            $("#shadowbox_content").css("display", "block");            $("#shadowbox_body").css("display", "block");            $("#shadowbox_nav").slideDown("fast");            $("#shadowbox_content").css({                height: a,                width: b            })        }, 1200)    }};